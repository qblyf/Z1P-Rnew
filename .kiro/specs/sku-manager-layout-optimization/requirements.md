# SKU 管理器布局优化 - 需求文档

## 介绍

本规范定义了 SKU 管理器组件的布局优化需求。通过实现固定/可滚动分离的布局模式，解决按钮隐藏和内容溢出的问题。

## 术语表

- **SKU Manager**: 负责管理库存单位（SKU）的组件
- **SPU ID 信息**: 显示"SPU ID: {id}, 名称: {name}"的头部区域
- **选择器区域**: 包含版本、配置、颜色选择器的表单区域
- **SKU 表格**: 显示所有 SKU 条目的数据表格
- **操作按钮**: 包括"+ 新增"和"确认修改"的底部按钮
- **可滚动区域**: 内容超过视口高度时可滚动的区域
- **固定区域**: 保持可见且不滚动的区域

## 需求

### 需求 1: 固定 SPU ID 头部 (SKU-LAY-1)

**用户故事**: 作为用户，我想要 SPU ID 信息始终显示在屏幕顶部，以便我始终知道正在处理哪个 SPU。

#### 接受标准

1. WHEN SKU Manager 组件显示时，THE SPU ID 信息区域 SHALL 保持固定在顶部
2. WHEN 用户滚动选择器区域和 SKU 表格时，THE SPU ID 信息 SHALL 不随内容滚动
3. THE SPU ID 信息 SHALL 位于可滚动区域之外

### 需求 2: 可滚动的选择器和表格区域 (SKU-LAY-2)

**用户故事**: 作为用户，我想要版本、配置、颜色选择器与 SKU 表格一起滚动，以便我能管理大量 SKU 列表。

#### 接受标准

1. WHEN 内容高度超过可用视口时，THE 选择器区域和 SKU 表格 SHALL 可滚动
2. WHEN 用户滚动时，THE 版本、配置、颜色选择器 SHALL 与 SKU 表格一起滚动
3. THE 可滚动区域 SHALL 有适当的滚动条样式和行为

### 需求 3: 操作按钮位置 (SKU-LAY-3)

**用户故事**: 作为用户，我想要操作按钮始终可见且易于访问，以便我能高效地管理 SKU。

#### 接受标准

1. WHEN SKU Manager 显示时，THE 操作按钮（+ 新增 和 确认修改）SHALL 始终可见
2. WHEN SKU 列表很长时，THE 操作按钮 SHALL 保持在视口底部或可滚动区域底部
3. WHEN 用户滚动表格时，THE 操作按钮 SHALL 保持可访问状态
4. THE 操作按钮 SHALL 有适当的间距和样式

### 需求 4: 布局结构 (SKU-LAY-4)

**用户故事**: 作为开发者，我想要清晰的布局结构和适当的 flex 属性，以便组件易于维护和响应式。

#### 接受标准

1. THE 组件 SHALL 使用 flexbox 布局和适当的 flex 属性
2. THE SPU ID 区域 SHALL 有 `flexShrink: 0` 以防止收缩
3. THE 可滚动区域 SHALL 有 `flex: 1` 和 `minHeight: 0` 以启用适当的滚动
4. THE 组件 SHALL 在任何 SKU 数量（0 到 1000+）下都能正确显示

### 需求 5: 响应式设计 (SKU-LAY-5)

**用户故事**: 作为用户，我想要在不同屏幕尺寸上都能正常使用 SKU Manager，以便在各种设备上工作。

#### 接受标准

1. WHEN 视口高度变化时，THE 可滚动区域 SHALL 动态调整以适应可用空间
2. WHEN 在不同设备上查看时，THE 布局 SHALL 自动调整
3. THE 组件 SHALL 保持适当的间距和对齐

## 布局方案对比

### 方案 A: 按钮固定在视口底部

**特点**:
- 按钮始终可见，用户体验最佳
- 占用视口空间
- 适用于按钮操作频繁的场景

**实现方式**:
```
┌─────────────────────────┐
│ 固定顶部 (SPU ID)       │
├─────────────────────────┤
│ 可滚动中部              │
│ (选择器 + 表格)         │
├─────────────────────────┤
│ 固定底部 (按钮)         │
└─────────────────────────┘
```

### 方案 B: 按钮在可滚动区域底部

**特点**:
- 不占用视口空间
- 布局更灵活
- 需要滚动才能看到按钮

**实现方式**:
```
┌─────────────────────────┐
│ 固定顶部 (SPU ID)       │
├─────────────────────────┤
│ 可滚动区域              │
│ (选择器 + 表格 + 按钮)  │
└─────────────────────────┘
```

## 推荐方案

**优先采用方案 A**（按钮固定在视口底部），原因：
1. 用户体验更好，按钮始终可见
2. 按钮操作频率高，需要快速访问
3. 视口空间充足，不会造成内容压缩

